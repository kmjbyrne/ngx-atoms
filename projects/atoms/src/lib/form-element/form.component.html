<form class="atom-form" [formGroup]="parent" (submit)="onSubmit()" [class.atom-form--readonly]="readonly">

    <div class="atom-form__group" [class.atom-form--active]="modified">
        <ng-container *ngIf="type === 'select'">
            <select class="atom-form__select" [formControlName]="control" required>
                <option *ngFor="let item of options" [value]="item.key" [selected]="defaultSelect">{{item.value}}</option>
            </select>
        </ng-container>
        <ng-container *ngIf="type !== 'select'">
            <input class="atom-form__input" [type]="type" required autocomplete="off" [formControlName]="control" [readonly]="readonly">
        </ng-container>

        <!-- And always keep the label and error on the bottom due to not being able to have multiple ng-contents in one template -->
        <div class="atom-form__label">
            <ng-content></ng-content>
        </div>
        <ng-container *ngIf="true">
            <div class="atom-form__error-label" *ngIf="!parent.get(control).valid && submitted"> Required
            </div>
        </ng-container>

    </div>
</form>
